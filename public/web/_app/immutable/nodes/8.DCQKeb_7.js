import"../chunks/disclose-version.Bg9kRutz.js";import{c as v,p as g,l as n,m as _,k as e,n as h,f as b,t as c,b as i,d as P,r as $}from"../chunks/custom-element.DQtPqtwV.js";import{i as x}from"../chunks/if.BrBjDjp-.js";import{e as D}from"../chunks/each.CBDd4fNw.js";import{i as k}from"../chunks/lifecycle.By80OOUV.js";import{s as w,a as y}from"../chunks/store.iOtDhSer.js";import{a as C,d as M,b as R,u as S}from"../chunks/firebase.B4c6QKgP.js";import{o as T}from"../chunks/index-client.cakr4NJt.js";import{P as j}from"../chunks/Product.DL0AUlld.js";import{m as q}from"../chunks/meta.store.Q6Z8Tcx4.js";var z=c('<div class="grid grid-cols-3 gap-4"></div>'),A=c("<p>There are no products added to favorites</p>");function B(d,u){g(u,!1);const f=w(),o=()=>y(S,"$user",f);q.set({title:"Coupons",noIndex:!0});let s=_([]);T(async()=>{o()&&o().favorites&&(n(s,await Promise.all(o().favorites.map(async t=>{const a=C(M,"products",t),r=await R(a);return r.exists()?{...r.data(),id:t}:null}))),n(s,e(s).filter(t=>t!==null)))}),k();var p=h(),l=b(p);x(l,()=>o()&&o().favorites&&o().favorites.length>0,t=>{var a=z();D(a,5,()=>e(s),r=>r.id,(r,m)=>{j(r,{get product(){return e(m)}})}),$(a),i(t,a)},t=>{var a=A();i(t,a)}),i(d,p),P()}v(B,{},[],[],!0);export{B as component};
